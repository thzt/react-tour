/** @license React vundefined
 * react-transport-dom-webpack-server.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';var f=require("react");function g(b){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+b,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+b+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k=JSON.stringify;function l(b,a,d){b=k(d,b.toJSON);a=0===a?b+"\n":"J"+a.toString(16)+":"+b+"\n";return Buffer.from(a,"utf8")}
var m=60103,n=60107,p=60108,q=60114,r=60112,t=60113,u=60120,v=60115,w=60116,x=60121,y=60122,z=60119,A=60129,B=60130,C=60131;
if("function"===typeof Symbol&&Symbol.for){var D=Symbol.for;m=D("react.element");n=D("react.fragment");p=D("react.strict_mode");q=D("react.profiler");r=D("react.forward_ref");t=D("react.suspense");u=D("react.suspense_list");v=D("react.memo");w=D("react.lazy");x=D("react.block");y=D("react.server.block");z=D("react.scope");A=D("react.debug_trace_mode");B=D("react.offscreen");C=D("react.legacy_hidden")}var E=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;
function F(b,a,d){var c=[],e={destination:a,bundlerConfig:d,nextChunkId:0,pendingChunks:0,pingedSegments:c,completedJSONChunks:[],completedErrorChunks:[],flowing:!1,toJSON:function(a,b){return G(e,this,a,b)}};e.pendingChunks++;a=H(e,function(){return b});c.push(a);return e}
function I(b){var a=b.type,d=b.props;if("function"===typeof a)return a(d);if("string"===typeof a||a[0]===y)return[m,a,b.key,b.props];if(a===n||a===p||a===q||a===z||a===A||a===C||a===B||a===t||a===u)return b.props.children;if(null!=a&&"object"===typeof a)switch(a.$$typeof){case r:return b=a.render,b(d,void 0);case v:return d=f.createElement(a.type,b.props),I(d)}throw Error(g(351));}function J(b,a){var d=b.pingedSegments;d.push(a);1===d.length&&setImmediate(function(){return K(b)})}
function H(b,a){var d={id:b.nextChunkId++,query:a,ping:function(){return J(b,d)}};return d}
function G(b,a,d,c){switch(c){case m:return"$";case y:return"@";case w:case x:throw Error(g(352));}if(a[0]===y)switch(d){case "1":try{return b.bundlerConfig[c]}catch(e){return b.pendingChunks++,a=b.nextChunkId++,L(b,a,e),"$"+a.toString(16)}case "2":a=c;try{return a()}catch(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then)return b.pendingChunks++,b=H(b,a),a=b.ping,e.then(a,a),"$"+b.id.toString(16);b.pendingChunks++;a=b.nextChunkId++;L(b,a,e);return"$"+a.toString(16)}default:throw Error(g(353));
}if("string"===typeof c)return b="$"===c[0]||"@"===c[0]?"$"+c:c,b;for(;"object"===typeof c&&null!==c&&c.$$typeof===m;){a=c;try{c=I(a)}catch(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then)return b.pendingChunks++,b=H(b,function(){return c}),a=b.ping,e.then(a,a),"$"+b.id.toString(16);throw e;}}return c}
function L(b,a,d){var c="";try{if(d instanceof Error){var e=""+d.message;c=""+d.stack}else e="Error: "+d}catch(h){e="An error occurred but serializing the error message failed."}d={message:e,stack:c};a="E"+a.toString(16)+":"+k(d)+"\n";a=Buffer.from(a,"utf8");b.completedErrorChunks.push(a)}
function M(b,a){var d=a.query,c;try{for(c=d();"object"===typeof c&&null!==c&&c.$$typeof===m;)d=c,a.query=function(){return c},c=I(d);var e=l(b,a.id,c);b.completedJSONChunks.push(e)}catch(h){"object"===typeof h&&null!==h&&"function"===typeof h.then?(b=a.ping,h.then(b,b)):L(b,a.id,h)}}function K(b){var a=E.current;E.current=N;var d=b.pingedSegments;b.pingedSegments=[];for(var c=0;c<d.length;c++)M(b,d[c]);b.flowing&&O(b);E.current=a}var P=!1;
function O(b){if(!P){P=!0;var a=b.destination;"function"===typeof a.cork&&a.cork();try{for(var d=b.completedJSONChunks,c=0;c<d.length;c++)if(b.pendingChunks--,!a.write(d[c])){b.flowing=!1;c++;break}d.splice(0,c);var e=b.completedErrorChunks;for(c=0;c<e.length;c++)if(b.pendingChunks--,!a.write(e[c])){b.flowing=!1;c++;break}e.splice(0,c)}finally{P=!1,"function"===typeof a.uncork&&a.uncork()}"function"===typeof a.flush&&"function"!==typeof a.flushHeaders&&a.flush();0===b.pendingChunks&&a.end()}}
function Q(b){b.flowing=!0;setImmediate(function(){return K(b)})}function R(){throw Error(g(373));}var N={useMemo:function(b){return b()},useCallback:function(b){return b},useDebugValue:function(){},useDeferredValue:function(b){return b},useTransition:function(){return[function(){},!1]},readContext:R,useContext:R,useReducer:R,useRef:R,useState:R,useLayoutEffect:R,useImperativeHandle:R,useEffect:R,useOpaqueIdentifier:R,useMutableSource:R};function S(b,a){return function(){a.flowing=!0;O(a)}}
exports.pipeToNodeWritable=function(b,a,d){b=F(b,a,d);a.on("drain",S(a,b));Q(b)};
